<!-- frontend/dashboard.html -->
<div id="statisticsPage" class="stats-view">
  <header class="stats-header">
    <h1>Dashboard</h1>
    <p class="stats-subtitle">Infrastructure monitoring and analysis</p>
  </header>

  <div class="stats-tabs">
    <button id="tabOverview" class="tab-button active" type="button">Overview</button>
    <button id="tabAnalytics" class="tab-button" type="button">Analytics</button>
    <button id="tabRepairs" class="tab-button" type="button">Repairs and Maintenance</button>
  </div>

  <!-- OVERVIEW (always uses ALL data; not affected by filters) -->
  <section id="overviewTab" class="stats-tab">
    <div class="stats-summary">
      <div class="summary-card">
        <div class="summary-title">Total Stations</div>
        <div id="ovTotalStations" class="summary-value">‚Äî</div>
      </div>
      <div class="summary-card">
        <div class="summary-title">Total Locations</div>
        <div id="ovTotalLocations" class="summary-value">‚Äî</div>
      </div>
      <div class="summary-card">
        <div class="summary-title">Total Companies</div>
        <div id="ovTotalCompanies" class="summary-value">‚Äî</div>
      </div>
    </div>

    <div class="split-columns">
      <div class="panel">
        <div class="panel-title">Totals by Location</div>
        <div id="ovByLocation" class="kv-list"><!-- filled by JS --></div>
      </div>

      <div class="panel">
        <div class="panel-title">Totals by Company</div>
        <div id="ovByCompany" class="kv-list"><!-- filled by JS --></div>
      </div>
    </div>
  </section>

  <!-- ANALYTICS (affected by the LHS filters) -->
  <section id="analyticsTab" class="stats-tab" style="display:none;">
    <div class="analytics-toolbar">
      <button id="btnAddStat" class="btn">+ Add Statistic</button>
      <div class="hint">
        Use the button to add a statistic. The filters on the left apply to this Analytics tab only
        (the Overview tab is always unfiltered).
      </div>
    </div>

    <div id="statsCards" class="stats-cards"><!-- dynamic stat cards --></div>
  </section>

  <!-- REPAIRS AND MAINTENANCE -->
  <section id="repairsTab" class="stats-tab" style="display:none;">
    <div class="repairs-toolbar">
      <button id="btnAddGlobalRepair" class="btn">+ Add Repair/Maintenance</button>
      <button id="btnImportRepairs" class="btn">üìÅ Import from Excel</button>
      <button id="btnResolveRepairs" class="btn btn-ghost">Resolve Selected</button>
    </div>

    <div class="repairs-tables">
      <!-- Repairs Table -->
      <div class="panel">
        <div class="panel-title">Repairs</div>
        <div class="table-scroll">
          <table class="data-table" id="globalRepairsTable">
            <thead>
              <tr>
                <th style="width:40px;">
                  <input type="checkbox" id="selectAllRepairs" title="Select all" />
                </th>
                <th>Date</th>
                <th>Station ID</th>
                <th>Location</th>
                <th>Asset Type</th>
                <th>Repair Name</th>
                <th>Severity</th>
                <th>Priority</th>
                <th>Cost</th>
                <th>Category</th>
                <th>Days</th>
              </tr>
            </thead>
            <tbody id="globalRepairsBody"></tbody>
          </table>
        </div>
      </div>

      <!-- Maintenance Table -->
      <div class="panel" style="margin-top:20px;">
        <div class="panel-title">Maintenance</div>
        <div class="table-scroll">
          <table class="data-table" id="globalMaintenanceTable">
            <thead>
              <tr>
                <th style="width:40px;">
                  <input type="checkbox" id="selectAllMaintenance" />
                </th>
                <th>Date</th>
                <th>Station ID</th>
                <th>Location</th>
                <th>Asset Type</th>
                <th>Item</th>
                <th>Severity</th>
                <th>Priority</th>
                <th>Cost</th>
                <th>Category</th>
                <th>Days</th>
              </tr>
            </thead>
            <tbody id="globalMaintenanceBody"></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Add Repair Modal (defined in separate file) -->
    <div id="globalRepairModal" class="modal" style="display:none;">
      <!-- Content will be added by JS -->
    </div>
    <!-- Import Repairs Modal -->
    <div id="importRepairsModal" class="modal" style="display:none;">
      <!-- Content will be added by JS -->
    </div>

    <!-- Missing Fields Modal -->
    <div id="missingFieldsModal" class="modal" style="display:none;">
      <!-- Content will be added by JS -->
    </div>

  </section>

  <!-- lightweight popup menu for + Add Statistic -->
  <div id="addStatMenu" class="stat-menu" style="display:none;">
    <button class="menu-item" data-kind="latlon">Latitude &amp; Longitude (radius count)</button>
    <button class="menu-item" data-kind="province">Province (bar chart)</button>
    <button class="menu-item" data-kind="inspection_frequency">Inspection Frequency (bar chart)</button>
    <div class="menu-sep"></div>
    <!-- Future stats hook -->
    <div class="menu-note">More statistics coming soon‚Ä¶</div>
  </div>
</div>
